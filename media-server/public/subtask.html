<!DOCTYPE html>
<html lang="en">

    <head>
        <style>
            .subtask-input {
                width: 100%;
                border: 1px solid gray;
                border-radius: 5px;
                font-size: x-large;
            }
        </style>
    </head>
    <body>
        <p style="margin-left: 30px; margin-bottom: 10px; font-size: large;">* Complete survey and click "Submit" button below.</p>
        <p style="margin-left: 30px; margin-top: 0px; font-size: large;">* You can return to the meeting with saving content.       <!-- 문구 수정 필요 -->
            <button type="button" style="float: right; background-color: #FFD9EA; border-radius: 5px; font-size: large; margin-bottom: 20px; margin-right: 30px; cursor: pointer;" onclick="saveSubtask();">
                Save and Return
            </button>
        </p>

        <div style="width:100%; height: 800px; overflow-y: scroll; border: 1px solid gray; background-color: cornsilk;">
            <h1 style="text-align:center;">Individual Assignment</h1>
            <div style="padding-bottom: 20px;">
                <div style="width: 56%; margin-left: 22%;">
                    <h3>What is your name?</h3>
                    <textarea id="Q1" class="subtask-input" style="height: 25px"></textarea>
                    <h3>What is your favorite food and why?</h3>
                    <textarea id="Q2" class="subtask-input" style="height: 100px"></textarea>
                    <h3>What was your dinner yesterday?<br>(If you didn't eat dinner, write down lunch menu)</h3>
                    <textarea id="Q3" class="subtask-input" style="height: 25px"></textarea>
                    <h3>Which movie genre do you prefer most?</h3>
                    <textarea id="Q4" class="subtask-input" style="height: 25px"></textarea>
                    <h3>Which movie impressed you the most and why?</h3>
                    <textarea id="Q5" class="subtask-input" style="height: 100px"></textarea>
                    <h3>What's the average break time per day except for sleeping time?</h3>
                    <textarea id="Q6" class="subtask-input" style="height: 25px"></textarea>
                    <h3>What do you do in your free time?</h3>
                    <textarea id="Q7" class="subtask-input" style="height: 100px"></textarea>
                    <h3>What is your major?</h3>
                    <textarea id="Q8" class="subtask-input" style="height: 25px"></textarea>
                    <h3>What was the most impressive lecture you took during your college life and why?</h3>
                    <textarea id="Q9" class="subtask-input" style="height: 100px"></textarea>                    
                </div>
                <button type="button" style="background-color: #FFD9EA; border-radius: 5px; font-size: large; margin-top: 20px; margin-left: calc(50% - 50px); width: 100px; height: 30px; cursor: pointer;" onclick="saveSubtask();">
                    Submit
                </button>
            </div>
        </div>

        <script>
            function saveSubtask() {
                let subtaskInputs = document.getElementsByClassName("subtask-input");
                let subtaskResult = {};

                for (var i = 0; i < subtaskInputs.length; i++) {
                    let subtaskInput = subtaskInputs[i];
                    let qNumber = subtaskInput.id;

                    subtaskResult[qNumber] = subtaskInput.value;
                }
                window.opener.onSaveSubtask(subtaskResult);
                window.opener.overlay_off();
                window.close();
            }

            function loadSubtask() {
                let subtaskInputs = document.getElementsByClassName("subtask-input");
                let subtaskResult = window.opener.onLoadSubtask();

                for (var i = 0; i < subtaskInputs.length; i++) {
                    let subtaskInput = subtaskInputs[i];
                    let qNumber = subtaskInput.id;

                    if (subtaskResult[qNumber]) {
                        subtaskInput.value = subtaskResult[qNumber];
                    } 
                }
            }

            loadSubtask();
        </script>
    </body>
</html>






